<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>browzine javascript unit tests</title>
        <link rel="stylesheet" type="text/css" href="../yui-test-3.18.1.css"/>
    </head>
    <body class="yui3-skin-sam">
    
    <ul>
        <li class="resource" data-doi="1">
            <div><a class="primaryLink" href="old">title 1</a></div>
            <div class="bookcover"><i/></div>
            <div class="resultInfo"></div>
            <div class="sourceInfo"></div>
        </li>
        <li class="resource" data-doi="2">
            <div><a class="primaryLink" href="old">title 2</a></div>
            <div class="bookcover"><i/></div>
            <div class="resultInfo"></div>
            <div class="sourceInfo"></div>
        </li>
        <li class="resource">
            <div><a class="primaryLink" href="old">title 3</a></div>
            <div class="bookcover"><i/></div>
            <div class="resultInfo"></div>
            <div class="sourceInfo"></div>
        </li>
    </ul>

    <script type="text/javascript">
        var XMLHttpRequest = function() {
            return {
                status: 200,
                open: function(a, b, c) {
                    this.doi = /\/apps\/search\/browzine\/doi\.json\?q=(.*)/.exec(b)[1];
                },
                send: function () {
                    this.responseText = '{"data":{"doi":"' + this.doi + '","fullTextFile": "fulltext-url"},"included":[{"coverImageUrl":"cover-url"}]}';
                    this.onload();
                }
            }
        }
            
            window.model = {"base-path":""};
        </script>
        <script type="text/javascript" src="../yui-test-3.18.1.js"></script>
        <script src="../../../main/javascript/lane.js" type="text/javascript"></script>
        <script src="../../../main/javascript/util.js" type="text/javascript"></script>
        <script src="../../../main/javascript/model.js" type="text/javascript"></script>
        <script src="../../../main/javascript/browzine.js" type="text/javascript"></script>
        <script src="browzine-test.js" type="text/javascript"></script>
    </body>
</html>
