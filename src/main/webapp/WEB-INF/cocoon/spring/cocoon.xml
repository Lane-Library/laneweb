<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id$ -->
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:pipeline="http://cocoon.apache.org/schema/pipeline"
    xmlns:avalon="http://cocoon.apache.org/schema/avalon"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
    http://cocoon.apache.org/schema/pipeline http://cocoon.apache.org/schema/pipeline/cocoon-pipeline-1.0.xsd
    http://cocoon.apache.org/schema/avalon http://cocoon.apache.org/schema/avalon/cocoon-avalon-1.0.xsd">
    
    <avalon:bridge location="/WEB-INF/cocoon/avalon/cocoon.xconf"/>
    
    
    <bean id="org.apache.avalon.framework.context.Context" init-method="init"
        class="org.apache.cocoon.core.container.spring.avalon.AvalonContextFactoryBean">
        <property name="settings" ref="org.apache.cocoon.configuration.Settings"/>
    </bean>
    
    <bean name="org.apache.excalibur.xml.sax.SAXParser"
        class="org.apache.cocoon.core.xml.avalon.DefaultSAXParser" scope="singleton">
        <property name="parser" ref="org.apache.cocoon.core.xml.SAXParser"/>
    </bean>

    <bean name="org.apache.cocoon.core.xml.SAXParser"
        class="org.apache.cocoon.core.xml.impl.JaxpSAXParser" scope="singleton">
        <property name="validate" value="false"/>
    </bean>

    <bean id="org.apache.cocoon.template.expression.AbstractStringTemplateParser"
        class="org.apache.cocoon.template.expression.AbstractStringTemplateParser" abstract="true">
        <property name="expressionFactory" ref="org.apache.cocoon.el.ExpressionFactory"/>
    </bean>

    <bean id="org.apache.cocoon.el.ExpressionFactory"
        class="org.apache.cocoon.el.impl.DefaultExpressionFactory">
        <property name="expressionCompilers">
            <map/>
        </property>
    </bean>

    <bean name="org.apache.cocoon.el.objectmodel.ObjectModel" scope="request"
        parent="org.apache.cocoon.el.objectmodel.ObjectModel.template">
    </bean>

    <bean name="org.apache.cocoon.el.objectmodel.ObjectModel.template"
        class="org.apache.cocoon.el.impl.objectmodel.ObjectModelImpl" abstract="true">
        <property name="initialEntries">
            <map/>
        </property>
    </bean>

    <bean name="org.apache.cocoon.serialization.AbstractTextSerializer" init-method="init"
        class="org.apache.cocoon.serialization.AbstractTextSerializer" scope="prototype"
        abstract="true">
        <property name="defaultEncoding" value="UTF-8"/>
    </bean>

    <bean name="org.apache.cocoon.serialization.Serializer/xml"
        class="org.apache.cocoon.serialization.XMLSerializer" scope="prototype"
        parent="org.apache.cocoon.serialization.AbstractTextSerializer">
        <pipeline:component mime-type="text/xml"/>
    </bean>

</beans>
